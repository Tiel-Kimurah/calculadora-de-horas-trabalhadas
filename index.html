<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Horas de Trabalho</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f2f2f2;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background: #fff;
            padding: 20px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-top: 15px;
        }

        input[type="time"] {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        button {
            margin-top: 20px;
            width: 100%;
            padding: 10px;
            background: #4CAF50;
            color: white;
            font-size: 16px;
            border: none;
            border-radius: 7px;
            cursor: pointer;
        }

        button:hover {
            background: #45a049;
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            background: #e9ffe9;
            border-radius: 7px;
            border: 1px solid #b3ffb3;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Calculadora de Horas</h1>
        <label>Entrada:</label>
        <input type="time" id="entrada">

        <label>Saída para almoço:</label>
        <input type="time" id="saidaAlmoco">

        <label>Volta do almoço:</label>
        <input type="time" id="voltaAlmoco">

        <label>Saída final:</label>
        <input type="time" id="saidaFinal">

        <button onclick="calcularHoras()">Calcular</button>

        <div class="result" id="resultado" style="display:none;"></div>
    </div>

    <script>
        function calcularHoras() {
            const cargaHorariaMin = 8 * 60 + 20; // 8h20 em minutos

            const entrada = document.getElementById('entrada').value;
            const saidaAlmoco = document.getElementById('saidaAlmoco').value;
            const voltaAlmoco = document.getElementById('voltaAlmoco').value;
            const saidaFinal = document.getElementById('saidaFinal').value;

            if (!entrada || !saidaAlmoco || !voltaAlmoco || !saidaFinal) {
                alert("Por favor, preencha todos os horários.");
                return;
            }

            function diffMinutos(inicio, fim) {
                const [hi, mi] = inicio.split(':').map(Number);
                const [hf, mf] = fim.split(':').map(Number);
                return (hf * 60 + mf) - (hi * 60 + mi);
            }

            const antesAlmoco = diffMinutos(entrada, saidaAlmoco);
            const depoisAlmoco = diffMinutos(voltaAlmoco, saidaFinal);
            const periodoAlmoco = diffMinutos(saidaAlmoco, voltaAlmoco);
            const totalTrabalhado = antesAlmoco + depoisAlmoco;
            const totalNoLocal = totalTrabalhado + periodoAlmoco;
            const horasExtras = totalNoLocal - cargaHorariaMin;

            function formatarMinutos(minutos) {
                const h = Math.floor(minutos / 60);
                const m = minutos % 60;
                return `${h}h${m.toString().padStart(2, '0')}`;
            }

            document.getElementById('resultado').style.display = 'block';
            document.getElementById('resultado').innerHTML = `
                <strong>Horas trabalhadas (sem almoço):</strong> ${formatarMinutos(totalTrabalhado)}<br>
                <strong>Total de horas trabalhadas:</strong> ${formatarMinutos(totalNoLocal)}<br>
                <strong>Horas extras:</strong> ${horasExtras > 0 ? formatarMinutos(horasExtras) : '0h00'}
            `;
        }
    </script>

</body>

</html>